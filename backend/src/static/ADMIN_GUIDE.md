# دليل الإدارة - موقع صحتي

## 🔐 الوصول لصفحة الإدارة

### بيانات الدخول الافتراضية:
- **اسم المستخدم**: `admin`
- **كلمة المرور**: `admin123`

### رابط صفحة الإدارة:
افتح ملف `admin.html` في المتصفح أو أضف `/admin.html` لرابط الموقع.

## 📊 لوحة الإدارة الرئيسية

### الإحصائيات السريعة:
- **إجمالي المستخدمين**: عدد المستخدمين المسجلين
- **إجمالي الطلبات**: عدد جميع الطلبات المقدمة
- **طلبات قيد المراجعة**: الطلبات التي تحتاج متابعة
- **طلبات اليوم**: الطلبات المقدمة اليوم

## 👥 إدارة المستخدمين

### عرض المستخدمين:
- قائمة بجميع المستخدمين المسجلين
- معلومات كل مستخدم: الاسم، رقم الهوية، البريد الإلكتروني، رقم الجوال
- تاريخ التسجيل وعدد الطلبات

### البحث عن المستخدمين:
- البحث بالاسم، رقم الهوية، أو البريد الإلكتروني
- النتائج تظهر فورياً أثناء الكتابة

### إجراءات المستخدم:
- **عرض**: عرض تفاصيل المستخدم كاملة
- **التقارير**: تحميل جميع تقارير المستخدم

## 📋 إدارة الطلبات

### أنواع الطلبات:
- **حجز مواعيد**: طلبات حجز المواعيد الطبية
- **استشارات**: طلبات الاستشارات الفورية
- **تقارير طبية**: طلبات الحصول على تقارير طبية

### حالات الطلبات:
- **قيد المراجعة** (pending): طلبات جديدة تحتاج مراجعة
- **قيد التنفيذ** (in_progress): طلبات يتم العمل عليها
- **مكتملة** (completed): طلبات تم إنجازها
- **ملغية** (cancelled): طلبات تم إلغاؤها

### تصفية الطلبات:
- تصفية حسب نوع الطلب
- تصفية حسب الحالة
- البحث في الطلبات

### إجراءات الطلبات:
- **التفاصيل**: عرض تفاصيل الطلب كاملة
- **تحديث**: تغيير حالة الطلب
- **إنشاء PDF**: إنشاء ملف PDF للطلب
- **تحميل PDF**: تحميل ملف PDF إذا كان متاحاً

## 📄 إدارة التقارير

### عرض التقارير:
- قائمة بجميع التقارير المتاحة
- معلومات كل تقرير: المستخدم، نوع التقرير، تاريخ الإنشاء، حجم الملف

### إجراءات التقارير:
- **تحميل**: تحميل ملف PDF
- **عرض**: عرض تفاصيل التقرير

### توليد التقارير:
- **توليد جميع التقارير**: إنشاء ملفات PDF لجميع الطلبات المكتملة

## ⚙️ إعدادات النظام

### تصدير البيانات:
- تصدير جميع بيانات النظام بصيغة JSON
- يشمل: المستخدمين، الطلبات، التقارير
- يحفظ الملف باسم `sehhaty_backup_YYYY-MM-DD.json`

### مسح البيانات:
- مسح جميع بيانات النظام
- **تحذير**: هذا الإجراء لا يمكن التراجع عنه
- يتطلب تأكيد مزدوج

### إحصائيات النظام:
- معلومات تفصيلية عن النظام
- آخر تحديث للبيانات
- إحصائيات الاستخدام

## 🔧 إجراءات الصيانة

### النسخ الاحتياطي:
1. اذهب إلى تبويب "الإعدادات"
2. اضغط "تصدير جميع البيانات"
3. احفظ الملف في مكان آمن

### استعادة البيانات:
حالياً غير متاح في الواجهة، يتطلب تدخل تقني.

### مراقبة الأداء:
- تحقق من الإحصائيات بانتظام
- راقب عدد الطلبات اليومية
- تأكد من عمل توليد PDF

## 🚨 استكشاف الأخطاء

### مشاكل شائعة:

#### لا تظهر البيانات:
- تأكد من وجود مستخدمين مسجلين
- تحقق من وحدة تحكم المتصفح للأخطاء
- امسح ذاكرة التخزين المحلية وأعد المحاولة

#### لا يعمل تحميل PDF:
- تأكد من أن الطلب له ملف PDF مُولد
- تحقق من إعدادات المتصفح للتحميل
- جرب متصفح آخر

#### مشاكل في البحث:
- تأكد من كتابة النص بشكل صحيح
- جرب البحث بكلمات مختلفة
- أعد تحميل الصفحة

### الحصول على المساعدة:
- تحقق من وحدة تحكم المتصفح (F12)
- راجع ملف README.md للمزيد من المعلومات
- تأكد من تحديث المتصفح

## 🔒 أمان الإدارة

### تغيير كلمة مرور الإدارة:
1. افتح ملف `admin.js`
2. ابحث عن `ADMIN_CREDENTIALS`
3. غيّر `username` و `password`
4. احفظ الملف

### أفضل الممارسات:
- غيّر كلمة مرور الإدارة الافتراضية
- لا تشارك بيانات دخول الإدارة
- اعمل نسخ احتياطية دورية
- راقب النشاط بانتظام

## 📈 التقارير والإحصائيات

### تقارير يومية:
- عدد المستخدمين الجدد
- عدد الطلبات الجديدة
- عدد التقارير المُولدة

### تقارير شهرية:
- إجمالي النشاط
- أكثر الخدمات طلباً
- معدل إنجاز الطلبات

### مؤشرات الأداء:
- وقت الاستجابة للطلبات
- رضا المستخدمين
- معدل استخدام الخدمات

---

**ملاحظة**: هذا النظام مصمم للاستخدام المحلي والتجريبي. في البيئة الإنتاجية، يجب تطبيق معايير أمان أعلى وقاعدة بيانات مركزية.



## 📋 معالجة الطلبات المتقدمة

### 🏥 معالجة طلبات حجز المواعيد

عند استلام طلب حجز موعد، يمكن للإدارة:

1. **عرض تفاصيل الطلب** من خلال زر "التفاصيل"
2. **معالجة الطلب** بإدخال البيانات التالية:
   - اسم المستشفى
   - اسم الطبيب
   - التخصص الطبي
   - رقم الهاتف
   - تاريخ الموعد
   - وقت الموعد
3. **قبول الطلب** - سيتم إرسال جميع البيانات للمستخدم
4. **رفض الطلب** - سيتم إشعار المستخدم بالرفض

### 💬 معالجة طلبات الاستشارات

عند استلام طلب استشارة فورية:

1. **عرض تفاصيل الطلب** ونوع الاستشارة المطلوبة
2. **معالجة الطلب** بإدخال:
   - اسم الطبيب المختص
   - التخصص الطبي
   - رقم الواتساب للتواصل
3. **قبول الطلب** - سيحصل المستخدم على بيانات التواصل
4. **رفض الطلب** - إشعار المستخدم بعدم توفر الخدمة

### 📄 معالجة طلبات التقارير الطبية

**الميزة الجديدة**: رفع ملفات PDF حقيقية

1. **عرض تفاصيل الطلب** ونوع التقرير المطلوب
2. **رفع ملف PDF** من الجهاز:
   - اختيار ملف PDF من الجهاز
   - التحقق التلقائي من صحة الملف
   - فحص حجم الملف (حد أقصى 10 ميجابايت)
   - إضافة ملاحظات للمريض (اختياري)
3. **قبول الطلب** - سيتمكن المستخدم من تحميل الملف
4. **رفض الطلب** - إشعار المستخدم بالرفض

### 🔒 متطلبات الأمان للملفات

- **نوع الملف**: PDF فقط
- **حجم الملف**: حد أقصى 10 ميجابايت
- **التحقق التلقائي**: من صحة الملف قبل الرفع
- **الحماية**: من الملفات الضارة

### 📊 إدارة الملفات المرفوعة

- **عرض جميع الملفات** المرفوعة في قسم التقارير
- **تحميل الملفات** للمراجعة
- **حذف الملفات** عند الحاجة
- **إحصائيات الملفات** (العدد والحجم الإجمالي)

### 🎯 نصائح للاستخدام الأمثل

1. **تنظيم الملفات**: استخدم أسماء واضحة للملفات
2. **جودة الملفات**: تأكد من وضوح النصوص في PDF
3. **الملاحظات**: أضف ملاحظات مفيدة للمرضى
4. **المتابعة**: راجع الطلبات بانتظام
5. **النسخ الاحتياطي**: استخدم خاصية تصدير البيانات

### ⚠️ تنبيهات مهمة

- **لا يمكن للمستخدمين** رفع ملفات بأنفسهم
- **الإدارة فقط** تستطيع رفع الملفات
- **الملفات محفوظة محلياً** في المتصفح
- **النسخ الاحتياطي ضروري** لحماية البيانات


## 👥 إدارة المستخدمين المتقدمة

### حذف المستخدمين
- **الوصول**: تبويب "المستخدمون" > زر "حذف" بجانب المستخدم
- **التأثير**: 
  - حذف بيانات المستخدم نهائياً
  - حذف جميع طلباته
  - حذف ملفاته المرفوعة
- **تحذير**: هذا الإجراء لا يمكن التراجع عنه
- **الاستخدام**: للمستخدمين المخالفين أو الحسابات الوهمية

### حظر المستخدمين
- **الوصول**: تبويب "المستخدمون" > زر "حظر" بجانب المستخدم
- **التأثير**:
  - منع المستخدم من تسجيل الدخول
  - إنهاء جلسته الحالية
  - منعه من التسجيل مرة أخرى برقم الهوية نفسه
- **الاستخدام**: للمستخدمين المخالفين مع إمكانية إعادة التفعيل لاحقاً

### إلغاء حظر المستخدمين
- **الوصول**: تبويب "المستخدمون" > زر "إلغاء الحظر" بجانب المستخدم المحظور
- **التأثير**:
  - إعادة تفعيل حساب المستخدم
  - السماح له بتسجيل الدخول مرة أخرى
  - استعادة الوصول لجميع الخدمات

### البحث والفلترة
- **البحث**: استخدم مربع البحث للبحث بالاسم أو رقم الهوية أو البريد الإلكتروني
- **الفلترة**: اختر من القائمة المنسدلة:
  - جميع المستخدمين
  - المستخدمون النشطون فقط
  - المستخدمون المحظورون فقط

### الإحصائيات
- **إجمالي المستخدمين**: العدد الكلي للمستخدمين المسجلين
- **المستخدمون النشطون**: المستخدمون القادرون على تسجيل الدخول
- **المستخدمون المحظورون**: المستخدمون الممنوعون من الوصول

## 📋 معالجة الطلبات المحسنة

### رفع ملفات PDF حقيقية
- **المتطلبات**: ملف PDF بحد أقصى 10 ميجابايت
- **الاستخدام**: 
  1. اختر الطلب من جدول الطلبات
  2. اضغط "التفاصيل"
  3. اختر "رفع ملف PDF"
  4. حدد الملف من جهازك
  5. أضف ملاحظات إضافية
  6. اضغط "رفع الملف"

### معاينة الملفات المرفوعة
- يمكن للمستخدمين معاينة التقارير قبل تحميلها
- زر "اطلاع" يفتح الملف في نافذة جديدة
- زر "تحميل" ينزل الملف على الجهاز

## 🔧 أدوات الصيانة

### تنظيف البيانات
- **الوصول**: تبويب "الإعدادات" > "تنظيف البيانات"
- **الوظيفة**: حذف طلبات المستخدمين المحذوفين
- **الاستخدام**: شهرياً للحفاظ على أداء النظام

### تصدير البيانات
- **بيانات المستخدمين**: تصدير قائمة المستخدمين وبياناتهم
- **بيانات الطلبات**: تصدير جميع الطلبات والتقارير
- **التنسيق**: ملف JSON قابل للاستيراد

## 🛡️ الأمان والحماية

### نظام الحظر
- يمنع المستخدمين المحظورين من:
  - تسجيل الدخول برقم الهوية
  - إنشاء حسابات جديدة بنفس رقم الهوية
  - الوصول لأي من خدمات الموقع

### حماية البيانات
- جميع البيانات محفوظة محلياً في المتصفح
- ملفات PDF محفوظة بتشفير Base64
- لا يتم إرسال أي بيانات لخوادم خارجية

## 📞 الدعم الفني

### للمستخدمين
- زر واتساب في لوحة تحكم المستخدم
- رابط مباشر للتواصل: http://wa.me/+966552847882

### للإدارة
- نفس رقم الواتساب للدعم الفني
- البريد الإلكتروني: seha1sehty@gmail.com

